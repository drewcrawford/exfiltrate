[package]
name = "exfiltrate"
version = "0.1.0"
edition = "2024"

[dependencies]
serde = { version = "1.0", features= ["derive"] }
serde_json = "1.0"
thiserror = "2"
logwise = { version = "0.2", optional = true }
regex = {version = "1.11", optional=true}
log = "0.4.27"

[features]
transit = ["dep:regex"] # primarily used for logwise parsing
logwise = ["dep:logwise"]

[dev-dependencies]
logwise = "0.2"

[[example]]
name = "tools"
path = "examples/tools.rs"
required-features = ["transit"]

[[example]]
name = "disconnected"
path = "examples/disconnected.rs"
required-features = ["transit"]

[[example]]
name = "stdio"
path = "examples/stdio.rs"
required-features = ["transit"]

[[example]]
name = "log_exfiltration"
path = "examples/log_exfiltration.rs"
required-features = ["transit","logwise"]



[patch.crates-io]
logwise = { path = "../logwise" }